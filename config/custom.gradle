task beforePR(dependsOn: ['detekt', 'lintStgDebug', 'jacocoTestReport']) {
    group 'Custom'
    description '[Castcle] detekt + lint + unittest'
    doLast {
        printOutputFile("stg", "debug")
    }
}

task unittest(dependsOn: ['detekt', 'jacocoTestReport']) {
    group 'Custom'
    description '[Castcle] detekt + unittest'
    doLast {
        printOutputFile("stg", "debug")
    }
}

def printOutputFile(env, mode) {
    def envCapitalize = env.capitalize()
    def modeCapitalize = mode.capitalize()
    println "APK: $buildDir/outputs/apk/${env}/${mode}/"
    println "Lint: $buildDir/reports/lint-results-${env}${modeCapitalize}.html"
    println "Test result: $buildDir/reports/tests/test${envCapitalize}${modeCapitalize}UnitTest/index.html"
    println "Test coverage: $buildDir/reports/jacoco/index.html"
}
